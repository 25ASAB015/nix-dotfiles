---
title: Zsh Shell
description: Configuraci贸n completa de Zsh shell con plugins, aliases y herramientas integradas
---

#  Zsh Shell

**Zsh** (Z Shell) es un shell potente y altamente personalizable. Esta configuraci贸n usa [Hydenix](https://github.com/richen604/hydenix) para gestionar zsh con plugins, Starship como prompt, y herramientas integradas para una experiencia productiva.

La configuraci贸n se encuentra en:
```
modules/hm/default.nix
resources/config/.zshrc_extra
```

## Configuraci贸n Principal

### Archivo de configuraci贸n

La configuraci贸n principal de Zsh se gestiona a trav茅s de Hydenix en:
```
modules/hm/default.nix
```

Para personalizaciones adicionales, edita:
```
resources/config/.zshrc_extra
```

### Habilitar Zsh Shell

En `modules/hm/default.nix`:

```nix
hydenix.hm.shell = {
  enable = true;
  starship = {
    enable = true;  # Habilitar Starship expl铆citamente para zsh
  };
  zsh = {
    enable = true;
    plugins = [
      "sudo"
      "zoxide"
      "git"
      "fzf"
      "direnv"
    ];
    configText = ''
      # Cargar configuraciones extras (.zshrc_extra)
      source ~/Dotfiles/resources/config/.zshrc_extra
    '';
  };
};
```

## Caracter铆sticas Principales

### Variables de Entorno

Las siguientes variables de entorno se configuran autom谩ticamente:

- **`NIXPKGS_ALLOW_UNFREE=1`**: Permite paquetes no libres en Nix
- **`MANPAGER='nvim +Man!'`**: Usa Neovim como visor de manuales
- **`PYTHON_BASIC_REPL=1`**: Configuraci贸n b谩sica de REPL de Python
- **`NPM_CONFIG_PREFIX`**: Configuraci贸n de npm global (`$HOME/.npm-global`)
- **`PATH`**: Incluye `$HOME/.npm-global/bin` autom谩ticamente

### Plugins Instalados

Zsh incluye los siguientes plugins de Hydenix:

| Plugin | Descripci贸n |
|--------|-------------|
| **`sudo`** | Agrega `sudo` al comando actual con doble `Esc` |
| **`zoxide`** | Navegaci贸n inteligente de directorios |
| **`git`** | Aliases y funciones 煤tiles de Git |
| **`fzf`** | Fuzzy finder para b煤squeda interactiva |
| **`direnv`** | Carga autom谩tica de entornos por directorio |

##  Referencia R谩pida: Aliases y Funciones

###  Aliases por Categor铆a

####  Editor y Archivos

| Alias | Comando | Descripci贸n |
|-------|---------|-------------|
| **`fn`** | `nvim $(fzf)` | Abre Neovim con selector fuzzy de archivos |
| **`fp`** | `zathura $(fzf)` | Abre Zathura (PDF viewer) con selector fuzzy |
| **`cat`** | `bat` | Muestra archivos con syntax highlighting |

####  Git y Desarrollo

| Alias | Comando | Descripci贸n |
|-------|---------|-------------|
| **`da`** | `direnv allow .` | Permite direnv en el directorio actual |

####  Docker/Podman

| Alias | Comando | Descripci贸n |
|-------|---------|-------------|
| **`lzd`** | `DOCKER_HOST=unix:///run/user/1000/podman/podman.sock lazydocker` | Abre lazydocker con Podman socket |

####  Visualizaci贸n de Directorios

| Alias | Comando | Descripci贸n |
|-------|---------|-------------|
| **`t`** | `tree -L 2` | Muestra 谩rbol de directorios (2 niveles) |
| **`tt`** | `tree -L 3` | Muestra 谩rbol de directorios (3 niveles) |

####  ROS/Rob贸tica

| Alias | Comando | Descripci贸n |
|-------|---------|-------------|
| **`rviz2`** | `QT_QPA_PLATFORM=xcb rviz2` | Ejecuta RViz2 con configuraci贸n XCB |

## Integraciones

### Starship - Prompt Personalizado

Zsh usa **Starship** como prompt, configurado a trav茅s de Hydenix. El prompt es r谩pido, personalizable y muestra informaci贸n 煤til sobre tu entorno.

**Habilitar:**

```nix
hydenix.hm.shell = {
  enable = true;
  starship = {
    enable = true;
  };
  zsh = {
    enable = true;
  };
};
```

**Caracter铆sticas:**
- Prompt r谩pido y as铆ncrono
- Informaci贸n de Git integrada
- Indicadores de entorno (Nix, Python, Node, etc.)
- Configuraci贸n separada de Fish (no se afectan mutuamente)

### Direnv - Entornos Autom谩ticos

Direnv carga autom谩ticamente entornos cuando entras a un directorio:

```
modules/hm/hydenix-config.nix
```

**Habilitar:**

```nix
modules.development.direnv.enable = true;
```

**Uso:**
1. Crea un archivo `.envrc` en tu proyecto:
   ```bash
   echo "use nix" > .envrc
   ```
2. Permite direnv en ese directorio:
   ```bash
   da  # o: direnv allow .
   ```
3. Al entrar al directorio, se carga el entorno autom谩ticamente

**Caracter铆sticas:**
- Carga entornos Nix autom谩ticamente
- Variables de entorno por proyecto
- Integraci贸n con nix-shell y nix-direnv

### Zoxide - Navegaci贸n Inteligente

Zoxide aprende tus directorios frecuentes y te permite saltar r谩pidamente:

```
modules/hm/hydenix-config.nix
```

**Habilitar:**

```nix
modules.terminal.software.zoxide = {
  enable = true;
};
```

**Uso:**
- `z carpeta`: Salta a un directorio visitado frecuentemente
- `zi`: Modo interactivo para seleccionar directorio
- Aprende autom谩ticamente de tus `cd`

### fzf - Fuzzy Finder

fzf proporciona b煤squeda fuzzy interactiva:

```
modules/hm/hydenix-config.nix
```

**Habilitar:**

```nix
modules.terminal.software.fzf = {
  enable = true;
};
```

**Uso:**
- **`Ctrl+R`**: Buscar en historial
- **`Ctrl+T`**: Buscar archivos
- **`Alt+C`**: Buscar directorios
- Integrado con aliases: `fn` y `fp` usan fzf

### Git Plugin

El plugin de Git proporciona aliases y funciones 煤tiles:

**Aliases disponibles:**
- `g`: `git`
- `ga`: `git add`
- `gc`: `git commit`
- `gp`: `git push`
- `gl`: `git pull`
- `gst`: `git status`
- `gco`: `git checkout`
- Y muchos m谩s...

### Sudo Plugin

Agrega `sudo` al comando actual f谩cilmente:

**Uso:**
- Escribe un comando
- Presiona `Esc` dos veces
- Se agrega `sudo` al inicio del comando

## Personalizaci贸n

### Agregar Aliases Personalizados

Edita `resources/config/.zshrc_extra`:

```bash
# Agregar nuevos aliases
alias mi-alias='comando --opciones'
```

### Agregar Variables de Entorno

Edita `resources/config/.zshrc_extra`:

```bash
# Agregar variables de entorno
export MI_VARIABLE="valor"
export PATH="$PATH:/ruta/adicional"
```

### Agregar Funciones Personalizadas

Edita `resources/config/.zshrc_extra`:

```bash
# Agregar funciones
mi-funcion() {
    echo "Hola desde mi funci贸n"
    # Tu c贸digo aqu铆
}
```

### Agregar Plugins

Edita `modules/hm/default.nix`:

```nix
zsh = {
  enable = true;
  plugins = [
    "sudo"
    "zoxide"
    "git"
    "fzf"
    "direnv"
    "nuevo-plugin"  # Agregar aqu铆
  ];
};
```

## Aplicar Cambios

Despu茅s de modificar la configuraci贸n:

```bash
# Reconstruir configuraci贸n
make switch
# o
home-manager switch
```

Luego reinicia tu terminal o ejecuta:

```bash
source ~/.zshrc
```

## Diferencias con Fish

| Caracter铆stica | Zsh (Hydenix) | Fish |
|----------------|---------------|------|
| **Prompt** | Starship (Hydenix) | Starship (omarchy) |
| **Configuraci贸n** | `modules/hm/default.nix` + `.zshrc_extra` | `modules/hm/programs/terminal/shell/fish.nix` |
| **Plugins** | Oh My Zsh plugins | Fish plugins nativos |
| **Historial** | Historial tradicional | Atuin (opcional) |
| **Autocompletado** | Oh My Zsh + fzf | Autocompletado nativo + fzf |

## Recursos

- **Documentaci贸n oficial de Zsh**: https://zsh.sourceforge.io/Doc/
- **Oh My Zsh**: https://ohmyz.sh/
- **Hydenix (inspiraci贸n)**: https://github.com/richen604/hydenix
- **Starship**: https://starship.rs/

