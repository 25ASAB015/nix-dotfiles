---
title: DiagnÃ³stico y Logs
description: Comandos para diagnÃ³stico del sistema, salud y visualizaciÃ³n de logs
---

# DiagnÃ³stico y Logs

MÃ³dulo: `make/logs.mk`

Comandos para diagnÃ³stico del sistema, health checks y visualizaciÃ³n de logs.

## Comandos Disponibles

### `make health`
Ejecuta health checks comprehensivos del sistema.

```bash
make health
```

**QuÃ© verifica:**
- Estado del sistema NixOS
- Servicios crÃ­ticos
- Espacio en disco
- ConfiguraciÃ³n de red

---

### `make test-network`
Ejecuta diagnÃ³sticos comprehensivos de red.

```bash
make test-network
```

**QuÃ© hace:**
- Prueba conectividad
- Verifica DNS
- Muestra configuraciÃ³n de red
- Diagnostica problemas comunes

**CuÃ¡ndo usarlo:** Cuando notes lentitud o problemas de conexiÃ³n.

---

### `make info`
Muestra informaciÃ³n del sistema (incluyendo versiones).

```bash
make info
```

**QuÃ© muestra:**
- VersiÃ³n de NixOS
- Kernel
- Hostname
- Uptime
- InformaciÃ³n de hardware

---

### `make status`

Muestra el estado completo del sistema NixOS incluyendo generaciones y estado del flake.

```bash
make status
```

**InformaciÃ³n mostrada:**
- GeneraciÃ³n actual y total de generaciones
- Ãšltimas 5 generaciones con fechas
- Estado del flake (cambios sin commitear)
- Uso de almacenamiento en `/nix`
- Servicios systemd fallidos

**Salida esperada:**
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
          ğŸ“Š NixOS System Status                    
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Current Generation:   186 (2026-01-19 20:00)
Total Generations:    186

ğŸ“‹ Recent Generations (last 5):
  182   2026-01-18 15:30:00
  183   2026-01-18 18:45:00
  184   2026-01-19 10:15:00
  185   2026-01-19 16:20:00
  186   2026-01-19 20:00:00   (current)

ğŸ”„ Flake Status:
  âœ“ Clean - No uncommitted changes

ğŸ’¾ Storage:
  /nix: 45% used (120G free)

ğŸ”§ Failed Services: âœ“ None
```

**CuÃ¡ndo usarlo:** Para obtener un resumen rÃ¡pido del estado del sistema NixOS.

---

### `make watch-logs`
Observa logs del sistema en tiempo real (follow mode).

```bash
make watch-logs
```

**QuÃ© hace:** `journalctl -f` para ver logs en vivo.

---

### `make logs-boot`
Muestra logs del Ãºltimo arranque.

```bash
make logs-boot
```

**CuÃ¡ndo usarlo:** Diagnosticar problemas de arranque.

---

### `make logs-errors`
Muestra logs de errores recientes.

```bash
make logs-errors
```

**CuÃ¡ndo usarlo:** Investigar errores del sistema.

---

### `make logs-service`
Muestra logs de un servicio especÃ­fico.

```bash
make logs-service SVC=<service>
```

**Ejemplos:**
```bash
make logs-service SVC=sshd
make logs-service SVC=docker
make logs-service SVC=networkmanager
```

---

## Workflow Recomendado

### DiagnÃ³stico General
```bash
make health        # Health check general
make info          # InformaciÃ³n del sistema
```

### Problemas de Red
```bash
make test-network  # DiagnÃ³stico completo de red
```

### Investigar Errores
```bash
make logs-errors   # Ver errores recientes
make logs-boot     # Ver logs de arranque
make watch-logs    # Observar en tiempo real
```

### Debugging de Servicios
```bash
# Ver logs de un servicio especÃ­fico
make logs-service SVC=sshd
make logs-service SVC=networkmanager
```
